{% extends "store/base.html" %}
{% load humanize %}

{% block title %}خانه - فروشگاه اینترنتی تارلا ارگانیک{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="py-16 px-4">
    <div class="container mx-auto text-center glass p-8 rounded-3xl max-w-4xl">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">به تارلا ارگانیک خوش آمدید</h1>
        <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto leading-relaxed">
            بهترین محصولات طبیعی و ارگانیک را با تضمین کیفیت و قیمت مناسب از تارلا خریداری کنید
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{% url 'products' %}" class="bg-white text-green-700 py-3 px-8 rounded-full font-semibold hover:bg-opacity-90 transition-all transform hover:scale-105">
                مشاهده محصولات
            </a>
            <a href="{% url 'about' %}" class="border-2 border-white text-white py-3 px-8 rounded-full font-semibold hover:bg-white hover:text-green-700 transition-all">
                درباره ما
            </a>
        </div>
    </div>
</section>

<!-- Featured Products -->
<section class="py-12 px-4">
    <div class="container mx-auto">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-white mb-4">محصولات منتخب</h2>
            <p class="text-white/80 max-w-2xl mx-auto">برترین محصولات ارگانیک با کیفیت عالی</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            {% for product in featured_products %}
            <div class="glass product-card rounded-2xl p-5 text-white flex flex-col h-full">
                <a href="{% url 'product_detail' product.id %}" class="flex flex-col h-full">
                    <div class="bg-white/10 rounded-xl h-48 mb-4 flex items-center justify-center overflow-hidden relative">
                        {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" 
                             class="h-full w-full object-cover rounded-xl transition-transform duration-300 hover:scale-105">
                        {% else %}
                        <i class="fas fa-leaf text-4xl text-white/50"></i>
                        {% endif %}
                        
                        {% if product.is_featured %}
                        <span class="absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg">
                            منتخب
                        </span>
                        {% endif %}
                    </div>
                    
                    <h3 class="font-bold text-lg mb-2 line-clamp-1">{{ product.name }}</h3>
                    <p class="text-sm text-white/70 mb-4 line-clamp-2 flex-grow">{{ product.description|default:"محصول ارگانیک با کیفیت عالی" }}</p>
                </a>
                
                <div class="flex justify-between items-center mt-auto">
                    <div>
                        <span class="font-bold text-xl">{{ product.price|intcomma }}</span>
                        <span class="text-sm text-white/60">تومان</span>
                    </div>
                    {% if product.is_available and product.stock_quantity > 0 %}
                    <form method="post" action="{% url 'add_to_cart' product.id %}">
                        {% csrf_token %}
                        <button type="submit" 
                               class="bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-lg text-sm font-semibold transition-all flex items-center gap-2">
                            <i class="fas fa-cart-plus"></i>
                            افزودن
                        </button>
                    </form>
                    {% else %}
                    <button class="bg-gray-500/20 text-gray-300 py-2 px-4 rounded-lg text-sm font-semibold cursor-not-allowed">
                        ناموجود
                    </button>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-12">
                <i class="fas fa-inbox text-6xl text-white/50 mb-4"></i>
                <p class="text-white/80">هیچ محصولی یافت نشد</p>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-8">
            <a href="{% url 'products' %}" 
               class="inline-flex items-center gap-2 bg-white/20 hover:bg-white/30 text-white py-3 px-6 rounded-full font-semibold transition-all">
                مشاهده همه محصولات
                <i class="fas fa-arrow-left"></i>
            </a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-12 px-4">
    <div class="container mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="glass rounded-2xl p-6 text-center text-white">
                <div class="bg-white/10 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-shield-alt text-2xl"></i>
                </div>
                <h3 class="font-bold text-lg mb-2">ضمانت کیفیت</h3>
                <p class="text-white/70">تمامی محصولات با تضمین کیفیت و اصالت ارائه می‌شوند</p>
            </div>
            
            <div class="glass rounded-2xl p-6 text-center text-white">
                <div class="bg-white/10 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-truck text-2xl"></i>
                </div>
                <h3 class="font-bold text-lg mb-2">ارسال سریع</h3>
                <p class="text-white/70">ارسال به سراسر کشور در کوتاه‌ترین زمان ممکن</p>
            </div>
            
            <div class="glass rounded-2xl p-6 text-center text-white">
                <div class="bg-white/10 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-headset text-2xl"></i>
                </div>
                <h3 class="font-bold text-lg mb-2">پشتیبانی 24/7</h3>
                <p class="text-white/70">پشتیبانی دائمی برای پاسخگویی به سوالات شما</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}